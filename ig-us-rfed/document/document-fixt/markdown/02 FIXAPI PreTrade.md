# PreTrade FIX API

## Pre Trade Product Offering

The Pre Trade supports Security Reference Data and Quote Negotiation.

Request messages supported are
*    QuoteRequest
*    SecurityListRequest

Response messages supported are
*    SecurityList
*    Quote
*    QuoteRequestReject

##	High Message Rate Protection
In order to protect both IG’s and our Clients’ systems, we have implemented a quota in the Pre Trade API.
For each session, we monitor the rate of incoming application messages (i.e. excluding admin messages such as heartbeats). If the number breaches a threshold subsequent orders will be rejected due to the quota breached.
We are using a "greedy" algorithm to replenish quotas. A quota is applied for each type of message.

| Message             | Quota interval | Max Limit | Burst interval | Burst limit |
|---------------------|----------------|-----------|----------------|-------------|
| QuoteRequest        | 1m             | 150       | 1s             | 150         |
| SecurityListRequest | 1m             | 10        | 1s             | 10          |


## Pre Trade examples

### Security List Request
```
8=FIXT.1.1 | 9=102 | 35=x | 34=5 | 49=ClientUsername | 52=20210325-17:13:47.707 | 56=IGUS | 263=0 | 320=listReq+1616692427707 | 559=4 | 10=038 | 
```

### SecurityList Response 
```
8=FIXT.1.1 | 9=12254 | 35=y | 34=6 | 49=IGUS | 52=20210325-17:13:47.773 | 56=ClientUsername | 320=listReq+1616692427707 | 322=listReq+1616692427707~1 | 393=84 | 560=0 | 893=Y | 146=84 | 55=NOK/JPY | 48=CS.D.NOKJPY.CZD.IP | 22=M | 1151=CURRENCIES | 231=100000 | 107=NOK100,000 Contract | 1687=0 | 870=1 | 871=115 | 872=JPY | 15=JPY | 55=USD/ZAR | 48=CS.D.USDZAR.CZD.IP | 22=M | 1151=CURRENCIES | 231=100000 | 107=USD100,000 Contract | 1687=0 | 870=1 | 871=115 | 872=ZAR | 15=ZAR | 55=EUR/RUB | 48=CS.D.sp_EURRUB.CZD.IP | 22=M | 1151=CURRENCIES | 231=100000 | 107=EUR 100,000 Contract | 1687=0 | 870=1 | 871=115 | 872=RUB | 15=RUB | 55=EUR/CNH | 48=CS.D.EURCNH.CZD.IP | 22=M | 1151=CURRENCIES | 231=100000 | 107=EUR 100,000 Contract | 1687=0 | 870=1 | 871=115 | 872=CNH | 15=CNH | 55=AUD/NZD | 48=CS.D.AUDNZD.CZD.IP | 22=M | 1151=CURRENCIES | 231=100000 | 107=AUD100,000 Contract | 1687=0 | 870=1 | 871=115 | 872=NZD | 15=NZD | 55=AUD/CNH | 48=CS.D.AUDCNH.CZD.IP | 22=M | 1151=CURRENCIES | 231=100000 | 107=AUD 100,000 Contract | 1687=0 | 870=1 | 871=115 | 872=CNH | 15=CNH | 55=CHF/JPY | 48=CS.D.CHFJPY.CZD.IP | 22=M | 1151=CURRENCIES | 231=100000 | 107=CHF100,000 Contract | 1687=0 | 870=1 | 871=115 | 872=JPY | 15=JPY | 55=EUR/TRY | 48=CS.D.EURTRY.CZD.IP | 22=M | 1151=CURRENCIES | 231=100000 | 107=EUR100,000 Contract | 1687=0 | 870=1 | 871=115 | 872=TRY | 15=TRY | 55=USD/DKK | 48=CS.D.USDDKK.CZD.IP | 22=M | 1151=CURRENCIES | 231=100000 | 107=USD100,000 Contract | 1687=0 | 870=1 | 871=115 | 872=DKK | 15=DKK | 55=EUR/NZD | 48=CS.D.EURNZD.CZD.IP | 22=M | 1151=CURRENCIES | 231=100000 | 107=EUR100,000 Contract | 1687=0 | 870=1 | 871=115 | 872=NZD | 15=NZD | 55=USD/CHF | 48=CS.D.USDCHF.CZD.IP | 22=M | 1151=CURRENCIES | 231=100000 | 107=CHF100,000 Contract | 1687=0 | 870=1 | 871=115 | 872=CHF | 15=CHF | 55=USD/ILS | 48=CS.D.USDILS.CZD.IP | 22=M | 1151=CURRENCIES | 231=100000 | 107=USD100,000 Contract | 1687=0 | 870=1 | 871=115 | 872=ILS | 15=ILS | 55=TRY/JPY | 48=CS.D.TRYJPY.CZD.IP | 22=M | 1151=CURRENCIES | 231=100000 | 107=TRY100,000 Contract | 1687=0 | 870=1 | 871=115 | 872=JPY | 15=JPY | 55=CAD/CHF | 48=CS.D.CADCHF.CZD.IP | 22=M | 1151=CURRENCIES | 231=100000 | 107=CAD100,000 Contract | 1687=0 | 870=1 | 871=115 | 872=CHF | 15=CHF | 55=GBP/USD | 48=CS.D.GBPUSD.CZD.IP | 22=M | 1151=CURRENCIES | 231=100000 | 107=GBP100,000 Contract | 1687=0 | 870=1 | 871=115 | 872=USD | 15=USD | 55=EUR/NOK | 48=CS.D.EURNOK.CZD.IP | 22=M | 1151=CURRENCIES | 231=100000 | 107=EUR100,000 Contract | 1687=0 | 870=1 | 871=115 | 872=NOK | 15=NOK | 55=EUR/JPY | 48=CS.D.EURJPY.CZD.IP | 22=M | 1151=CURRENCIES | 231=100000 | 107=EUR100,000 Contract | 1687=0 | 870=1 | 871=115 | 872=JPY | 15=JPY | 55=CHF/TRY | 48=CS.D.CHFTRY.CZD.IP | 22=M | 1151=CURRENCIES | 231=100000 | 107=CHF100,000 Contract | 1687=0 | 870=1 | 871=115 | 872=TRY | 15=TRY | 55=GBP/ILS | 48=CS.D.GBPILS.CZD.IP | 22=M | 1151=CURRENCIES | 231=100000 | 107=GBP100,000 Contract | 1687=0 | 870=1 | 871=115 | 872=ILS | 15=ILS | 55=USD/CAD | 48=CS.D.USDCAD.CZD.IP | 22=M | 1151=CURRENCIES | 231=100000 | 107=USD100,000 Contract | 1687=0 | 870=1 | 871=115 | 872=CAD | 15=CAD | 55=AUD/JPY | 48=CS.D.AUDJPY.CZD.IP | 22=M | 1151=CURRENCIES | 231=100000 | 107=AUD100,000 Contract | 1687=0 | 870=1 | 871=115 | 872=JPY | 15=JPY | 55=GBP/AUD | 48=CS.D.GBPAUD.CZD.IP | 22=M | 1151=CURRENCIES | 231=100000 | 107=GBP100,000 Contract | 1687=0 | 870=1 | 871=115 | 872=AUD | 15=AUD | 55=GBP/HUF | 48=CS.D.GBPHUF.CZD.IP | 22=M | 1151=CURRENCIES | 231=100000 | 107=GBP100,000 Contract | 1687=0 | 870=1 | 871=115 | 872=HUF | 15=HUF | 55=NZD/CAD | 48=CS.D.NZDCAD.CZD.IP | 22=M | 1151=CURRENCIES | 231=100000 | 107=NZD100,000 Contract | 1687=0 | 870=1 | 871=115 | 872=CAD | 15=CAD | 55=EUR/SGD | 48=CS.D.EURSGD.CZD.IP | 22=M | 1151=CURRENCIES | 231=100000 | 107=EUR100,000 Contract | 1687=0 | 870=1 | 871=115 | 872=SGD | 15=SGD | 55=GBP/PLN | 48=CS.D.GBPPLN.CZD.IP | 22=M | 1151=CURRENCIES | 231=100000 | 107=GBP100,000 Contract | 1687=0 | 870=1 | 871=115 | 872=PLN | 15=PLN | 55=RUB/JPY | 48=CS.D.RUBJPY.CZD.IP | 22=M | 1151=CURRENCIES | 231=100000 | 107=RUB100,000 Contract | 1687=0 | 870=1 | 871=115 | 872=JPY | 15=JPY | 55=CHF/HUF | 48=CS.D.CHFHUF.CZD.IP | 22=M | 1151=CURRENCIES | 231=100000 | 107=CHF100,000 Contract | 1687=0 | 870=1 | 871=115 | 872=HUF | 15=HUF | 55=USD/SGD | 48=CS.D.USDSGD.CZD.IP | 22=M | 1151=CURRENCIES | 231=100000 | 107=USD100,000 Contract | 1687=0 | 870=1 | 871=115 | 872=SGD | 15=SGD | 55=GBP/CZK | 48=CS.D.GBPCZK.CZD.IP | 22=M | 1151=CURRENCIES | 231=100000 | 107=GBP100,000 Contract | 1687=0 | 870=1 | 871=115 | 872=CZK | 15=CZK | 55=GBP/CAD | 48=CS.D.GBPCAD.CZD.IP | 22=M | 1151=CURRENCIES | 231=100000 | 107=GBP100,000 Contract | 1687=0 | 870=1 | 871=115 | 872=CAD | 15=CAD | 55=EUR/USD | 48=CS.D.EURUSD.CZD.IP | 22=M | 1151=CURRENCIES | 231=100000 | 107=EUR100,000 Contract | 1687=0 | 870=1 | 871=115 | 872=USD | 15=USD | 55=GBP/EUR | 48=CS.D.GBPEUR.CZD.IP | 22=M | 1151=CURRENCIES | 231=100000 | 107=GBP100,000 Contract | 1687=0 | 870=1 | 871=115 | 872=EUR | 15=EUR | 55=CAD/JPY | 48=CS.D.CADJPY.CZD.IP | 22=M | 1151=CURRENCIES | 231=100000 | 107=CAD100,000 Contract | 1687=0 | 870=1 | 871=115 | 872=JPY | 15=JPY | 55=MXN/JPY | 48=CS.D.MXNJPY.CZD.IP | 22=M | 1151=CURRENCIES | 231=100000 | 107=MXP100,000 Contract | 1687=0 | 870=1 | 871=115 | 872=JPY | 15=JPY | 55=GBP/MXN | 48=CS.D.GBPMXN.CZD.IP | 22=M | 1151=CURRENCIES | 231=100000 | 107=GBP100,000 Contract | 1687=0 | 870=1 | 871=115 | 872=MXN | 15=MXN | 55=GBP/ZAR | 48=CS.D.GBPZAR.CZD.IP | 22=M | 1151=CURRENCIES | 231=100000 | 107=GBP1000,000 Contract | 1687=0 | 870=1 | 871=115 | 872=ZAR | 15=ZAR | 55=EUR/CHF | 48=CS.D.EURCHF.CZD.IP | 22=M | 1151=CURRENCIES | 231=100000 | 107=EUR100,000 Contract | 1687=0 | 870=1 | 871=115 | 872=CHF | 15=CHF | 55=SEK/JPY | 48=CS.D.SEKJPY.CZD.IP | 22=M | 1151=CURRENCIES | 231=100000 | 107=ZAR100,000 Contract | 1687=0 | 870=1 | 871=115 | 872=JPY | 15=JPY | 55=EUR/DKK | 48=CS.D.EURDKK.CZD.IP | 22=M | 1151=CURRENCIES | 231=100000 | 107=EUR100,000 Contract | 1687=0 | 870=1 | 871=115 | 872=DKK | 15=DKK | 55=USD/TRY | 48=CS.D.USDTRY.CZD.IP | 22=M | 1151=CURRENCIES | 231=100000 | 107=USD100,000 Contract | 1687=0 | 870=1 | 871=115 | 872=TRY | 15=TRY | 55=GBP/SEK | 48=CS.D.GBPSEK.CZD.IP | 22=M | 1151=CURRENCIES | 231=100000 | 107=GBP100,000 Contract | 1687=0 | 870=1 | 871=115 | 872=SEK | 15=SEK | 55=EUR/ZAR | 48=CS.D.EURZAR.CZD.IP | 22=M | 1151=CURRENCIES | 231=100000 | 107=EUR100,000 Contract | 1687=0 | 870=1 | 871=115 | 872=ZAR | 15=ZAR | 55=NOK/SEK | 48=CS.D.NOKSEK.CZD.IP | 22=M | 1151=CURRENCIES | 231=100000 | 107=NOK100,000 Contract | 1687=0 | 870=1 | 871=115 | 872=SEK | 15=SEK | 55=USD/RUB | 48=CS.D.sp_USDRUB.CZD.IP | 22=M | 1151=CURRENCIES | 231=100000 | 107=USD 100,000 Contract | 1687=0 | 870=1 | 871=115 | 872=RUB | 15=RUB | 55=PLN/JPY | 48=CS.D.PLNJPY.CZD.IP | 22=M | 1151=CURRENCIES | 231=100000 | 107=SEK100,000 Contract | 1687=0 | 870=1 | 871=115 | 872=JPY | 15=JPY | 55=SGD/JPY | 48=CS.D.SGDJPY.CZD.IP | 22=M | 1151=CURRENCIES | 231=100000 | 107=SGD100,000 Contract | 1687=0 | 870=1 | 871=115 | 872=JPY | 15=JPY | 55=USD/HKD | 48=CS.D.USDHKD.CZD.IP | 22=M | 1151=CURRENCIES | 231=100000 | 107=USD100,000 Contract | 1687=0 | 870=1 | 871=115 | 872=HKD | 15=HKD | 55=GBP/NZD | 48=CS.D.GBPNZD.CZD.IP | 22=M | 1151=CURRENCIES | 231=100000 | 107=GBP100,000 Contract | 1687=0 | 870=1 | 871=115 | 872=NZD | 15=NZD | 55=GBP/JPY | 48=CS.D.GBPJPY.CZD.IP | 22=M | 1151=CURRENCIES | 231=100000 | 107=GBP100,000 Contract | 1687=0 | 870=1 | 871=115 | 872=JPY | 15=JPY | 55=EUR/ILS | 48=CS.D.EURILS.CZD.IP | 22=M | 1151=CURRENCIES | 231=100000 | 107=EUR100,000 Contract | 1687=0 | 870=1 | 871=115 | 872=ILS | 15=ILS | 55=ZAR/JPY | 48=CS.D.ZARJPY.CZD.IP | 22=M | 1151=CURRENCIES | 231=100000 | 107=ZAR100,000 Contract | 1687=0 | 870=1 | 871=115 | 872=JPY | 15=JPY | 55=AUD/CHF | 48=CS.D.AUDCHF.CZD.IP | 22=M | 1151=CURRENCIES | 231=100000 | 107=AUD100,000 Contract | 1687=0 | 870=1 | 871=115 | 872=CHF | 15=CHF | 55=EUR/CAD | 48=CS.D.EURCAD.CZD.IP | 22=M | 1151=CURRENCIES | 231=100000 | 107=EUR100,000 Contract | 1687=0 | 870=1 | 871=115 | 872=CAD | 15=CAD | 55=GBP/CNH | 48=CS.D.GBPCNH.CZD.IP | 22=M | 1151=CURRENCIES | 231=100000 | 107=GBP 100,000 Contract | 1687=0 | 870=1 | 871=115 | 872=CNH | 15=CNH | 55=GBP/SGD | 48=CS.D.GBPSGD.CZD.IP | 22=M | 1151=CURRENCIES | 231=100000 | 107=GBP100,000 Contract | 1687=0 | 870=1 | 871=115 | 872=SGD | 15=SGD | 55=NZD/JPY | 48=CS.D.NZDJPY.CZD.IP | 22=M | 1151=CURRENCIES | 231=100000 | 107=NZD100,000 Contract | 1687=0 | 870=1 | 871=115 | 872=JPY | 15=JPY | 55=USD/CNH | 48=CS.D.USDCNH.CZD.IP | 22=M | 1151=CURRENCIES | 231=100000 | 107=USD 100,000 Contract | 1687=0 | 870=1 | 871=115 | 872=CNH | 15=CNH | 55=CAD/NOK | 48=CS.D.CADNOK.CZD.IP | 22=M | 1151=CURRENCIES | 231=100000 | 107=CAD100,000 Contract | 1687=0 | 870=1 | 871=115 | 872=NOK | 15=NOK | 55=USD/CZK | 48=CS.D.USDCZK.CZD.IP | 22=M | 1151=CURRENCIES | 231=2000000 | 107=USD100,000 Contract | 1687=0 | 870=1 | 871=115 | 872=CZK | 15=CZK | 55=USD/NOK | 48=CS.D.USDNOK.CZD.IP | 22=M | 1151=CURRENCIES | 231=100000 | 107=USD100,000 Contract | 1687=0 | 870=1 | 871=115 | 872=NOK | 15=NOK | 55=AUD/USD | 48=CS.D.AUDUSD.CZD.IP | 22=M | 1151=CURRENCIES | 231=100000 | 107=AUD100,000 Contract | 1687=0 | 870=1 | 871=115 | 872=USD | 15=USD | 55=CAD/CNH | 48=CS.D.CADCNH.CZD.IP | 22=M | 1151=CURRENCIES | 231=100000 | 107=USD 100,000 Contract | 1687=0 | 870=1 | 871=115 | 872=CNH | 15=CNH | 55=EUR/AUD | 48=CS.D.EURAUD.CZD.IP | 22=M | 1151=CURRENCIES | 231=100000 | 107=EUR100,000 Contract | 1687=0 | 870=1 | 871=115 | 872=AUD | 15=AUD | 55=CHF/NOK | 48=CS.D.CHFNOK.CZD.IP | 22=M | 1151=CURRENCIES | 231=100000 | 107=CHF100,000 Contract | 1687=0 | 870=1 | 871=115 | 872=NOK | 15=NOK | 55=GBP/NOK | 48=CS.D.GBPNOK.CZD.IP | 22=M | 1151=CURRENCIES | 231=100000 | 107=GBP100,000 Contract | 1687=0 | 870=1 | 871=115 | 872=NOK | 15=NOK | 55=NZD/CNH | 48=CS.D.NZDCNH.CZD.IP | 22=M | 1151=CURRENCIES | 231=100000 | 107=AUD 100,000 Contract | 1687=0 | 870=1 | 871=115 | 872=CNH | 15=CNH | 55=EUR/PLN | 48=CS.D.EURPLN.CZD.IP | 22=M | 1151=CURRENCIES | 231=100000 | 107=EUR100,000 Contract | 1687=0 | 870=1 | 871=115 | 872=PLN | 15=PLN | 55=EUR/CZK | 48=CS.D.EURCZK.CZD.IP | 22=M | 1151=CURRENCIES | 231=1000000 | 107=EUR100,000 Contract | 1687=0 | 870=1 | 871=115 | 872=CZK | 15=CZK | 55=AUD/SGD | 48=CS.D.AUDSGD.CZD.IP | 22=M | 1151=CURRENCIES | 231=100000 | 107=AUD100,000 Contract | 1687=0 | 870=1 | 871=115 | 872=SGD | 15=SGD | 55=EUR/HUF | 48=CS.D.EURHUF.CZD.IP | 22=M | 1151=CURRENCIES | 231=100000 | 107=EUR100,000 Contract | 1687=0 | 870=1 | 871=115 | 872=HUF | 15=HUF | 55=USD/HUF | 48=CS.D.USDHUF.CZD.IP | 22=M | 1151=CURRENCIES | 231=100000 | 107=USD100,000 Contract | 1687=0 | 870=1 | 871=115 | 872=HUF | 15=HUF | 55=CNH/JPY | 48=CS.D.CNHJPY.CZD.IP | 22=M | 1151=CURRENCIES | 231=100000 | 107=CNH 100,000 Contract | 1687=0 | 870=1 | 871=115 | 872=JPY | 15=JPY | 55=USD/JPY | 48=CS.D.USDJPY.CZD.IP | 22=M | 1151=CURRENCIES | 231=100000 | 107=USD100,000 Contract | 1687=0 | 870=1 | 871=115 | 872=JPY | 15=JPY | 55=GBP/TRY | 48=CS.D.GBPTRY.CZD.IP | 22=M | 1151=CURRENCIES | 231=100000 | 107=GBP100,000 Contract | 1687=0 | 870=1 | 871=115 | 872=TRY | 15=TRY | 55=USD/MXN | 48=CS.D.USDMXN.CZD.IP | 22=M | 1151=CURRENCIES | 231=100000 | 107=USD100,000 Contract | 1687=0 | 870=1 | 871=115 | 872=MXN | 15=MXN | 55=USD/SEK | 48=CS.D.USDSEK.CZD.IP | 22=M | 1151=CURRENCIES | 231=100000 | 107=USD100,000 Contract | 1687=0 | 870=1 | 871=115 | 872=SEK | 15=SEK | 55=EUR/MXN | 48=CS.D.EURMXN.CZD.IP | 22=M | 1151=CURRENCIES | 231=100000 | 107=EUR100,000 Contract | 1687=0 | 870=1 | 871=115 | 872=MXN | 15=MXN | 55=NZD/CHF | 48=CS.D.NZDCHF.CZD.IP | 22=M | 1151=CURRENCIES | 231=100000 | 107=NZD100,000 Contract | 1687=0 | 870=1 | 871=115 | 872=CHF | 15=CHF | 55=AUD/CAD | 48=CS.D.AUDCAD.CZD.IP | 22=M | 1151=CURRENCIES | 231=100000 | 107=AUD 100,000 Contract | 1687=0 | 870=1 | 871=115 | 872=CAD | 15=CAD | 55=EUR/GBP | 48=CS.D.EURGBP.CZD.IP | 22=M | 1151=CURRENCIES | 231=100000 | 107=EUR100,000 Contract | 1687=0 | 870=1 | 871=115 | 872=GBP | 15=GBP | 55=USD/PLN | 48=CS.D.USDPLN.CZD.IP | 22=M | 1151=CURRENCIES | 231=100000 | 107=USD100,000 Contract | 1687=0 | 870=1 | 871=115 | 872=PLN | 15=PLN | 55=GBP/DKK | 48=CS.D.GBPDKK.CZD.IP | 22=M | 1151=CURRENCIES | 231=100000 | 107=GBP100,000 Contract | 1687=0 | 870=1 | 871=115 | 872=DKK | 15=DKK | 55=EUR/SEK | 48=CS.D.EURSEK.CZD.IP | 22=M | 1151=CURRENCIES | 231=100000 | 107=EUR100,000 Contract | 1687=0 | 870=1 | 871=115 | 872=SEK | 15=SEK | 10=248 | 
```

### Quote Request
```
8=FIXT.1.1 | 9=126 | 35=R | 34=2 | 49=ClientUsername | 52=20210325-17:13:44.906 | 56=IGUS | 131=GBPUSD-Req | 263=1 | 146=1 | 55=N/A | 48=CS.D.GBPUSD.CZD.IP | 22=M | 10=091 | 
```

### Quote Response:
```
8=FIXT.1.1 | 9=190 | 35=S | 34=2 | 49=IGUS | 52=20210325-17:13:44.989 | 56=ClientUsername | 55=[N/A] | 117=qid-0 | 131=GBPUSD-Req | 132=1.3731 | 133=1.37351 | 390=1616692424559584894 | 451=-0.00215 | 537=1 | 1867=1616692424559587895 | 10=139 | 
```